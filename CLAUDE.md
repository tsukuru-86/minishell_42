修正プラン
優先度：高（重要な機能修正）

exitコマンドの問題
Test 46,49,50,51: 数値引数の検証とエラーハンドリング
修正箇所: exitコマンドの引数解析と終了コード処理

優先度：中（動作の一貫性）

環境変数展開
Test 133-135: $PWD, $EMPTYの処理
修正箇所: 環境変数展開ロジック

実行可能ファイルのエラーコード
Test 133,136,141,142: ディレクトリ実行時のエラーコード
修正箇所: 外部コマンド実行のエラーハンドリング
優先度：低（細かい調整）

最も重要なのはクォート処理とビルトインコマンドのエラーハンドリングの修正です。これらを修正することで大幅にテスト通過率が向上すると予想されます。